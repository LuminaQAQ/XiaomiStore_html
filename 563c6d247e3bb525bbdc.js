import"../css/default.scss";import"../css/header.scss";import"../css/nav.scss";import"../css/index.scss";import"../css/swiper.scss";import{fetchData}from"../api/fetchDropdown.js";import{fetchSwiperData}from"../api/fetchSwiperData";var headerDropdown={headerContainer:document.querySelector(".header-wrap-center"),item:document.querySelectorAll(".has-dropdown"),board:document.querySelector(".dropdown-board"),data:[],open:function(){for(var i=this,e=this,t=["xiaomi","redmi"],c=function(c){i.item[c].addEventListener("mouseover",(function(i){e.board.innerHTML="",e.board.className="dropdown-board open",e.data=fetchData(t[c]),e.data.forEach((function(i){var t='\n                        <div id="has-dropdown" class="sg-dropdown-item">\n                            <header id="has-dropdown" class="item-img">\n                                <img id="has-dropdown" src="'.concat(i.src,'" alt="">\n                            </header>\n                            <section id="has-dropdown" class="item-title">\n                                ').concat(i.title,'\n                            </section>\n                            <section id="has-dropdown" class="item-price">\n                                ').concat(i.price,"\n                            </section>\n                        </div>\n                    ");e.board.innerHTML+=t}))}))},n=0;n<this.item.length;n++)c(n)},close:function(){var i=this;document.body.addEventListener("mousemove",(function(e){"has-dropdown"!==e.target.id&&(i.board.className="dropdown-board")}))},init:function(){this.open(),this.close()}};headerDropdown.init();var searchPlacehoder={input:document.querySelector("#search-input"),index:0,placeholderArr:["红米","小米手环8","耳机","洗衣机","冰箱","电视","手表"],changePlaceholder:function(i){this.input.setAttribute("placeholder",i)},init:function(){var i=this;setInterval((function(){i.changePlaceholder(i.placeholderArr[i.index]),++i.index==i.placeholderArr.length&&(i.index=0)}),5e3)}};searchPlacehoder.init();var swiperOpt={wrap:document.querySelector(".swiper-wrap-right"),swiperWrap:document.querySelector(".swiper"),circleWrap:document.querySelector(".circle-wrap"),prevBtn:document.querySelector(".change-swiper-btn.prev"),nextBtn:document.querySelector(".change-swiper-btn.next"),curSwiper:0,swiperData:fetchSwiperData(),timer:null,handleSwiperChange:function(){for(var i=document.querySelectorAll(".sg-swiper-img-item"),e=document.querySelectorAll(".sg-cirlce"),t=0;t<i.length;t++)i[t].style.opacity=0,e[t].className="sg-cirlce";this.curSwiper>=i.length&&(this.curSwiper=0),this.curSwiper<0&&(this.curSwiper=this.swiperData.length-1),i[this.curSwiper].style.opacity=1,e[this.curSwiper].className="sg-cirlce active"},swiperInit:function(i){var e=this,t=this;this.timer=setInterval((function(){t.curSwiper++,e.handleSwiperChange()}),i),this.wrap.addEventListener("mouseover",(function(){clearInterval(t.timer),t.timer=null})),this.wrap.addEventListener("mouseleave",(function(){t.timer=setInterval((function(){t.curSwiper++,t.handleSwiperChange()}),i)}))},circlesInit:function(i){var e=this;this.circleWrap.innerHTML="";for(var t=0;t<this.swiperData.length;t++)this.circleWrap.innerHTML+='\n                <div class="sg-cirlce"></div>\n            ';var c=document.querySelectorAll(".sg-cirlce");c[this.curSwiper].className="sg-cirlce active";for(var n=function(t){c[t].addEventListener("click",(function(){e.curSwiper=t,clearInterval(e.timer),e.handleSwiperChange(),e.timer=setTimeout((function(){e.handleSwiperChange()}),i)}))},r=0;r<c.length;r++)n(r)},nextPrevInit:function(i){var e=this;this.prevBtn.addEventListener("click",(function(){e.curSwiper--,clearInterval(e.timer),e.handleSwiperChange()})),this.nextBtn.addEventListener("click",(function(){e.curSwiper++,e.timer=setInterval((function(){e.handleSwiperChange()}),i),e.handleSwiperChange()}))},setData:function(){var i=this;this.swiperWrap.innerHTML="",this.swiperData.forEach((function(e){var t='\n                <div class="sg-swiper-img-item">\n                    <img src="'.concat(e.src,'" alt="">\n                </div>\n            ');i.swiperWrap.innerHTML+=t}))},optInit:function(i){this.setData(),this.swiperInit(i),this.nextPrevInit(i),this.circlesInit(i)},init:function(){this.optInit(4e3)}};swiperOpt.init();var sideCollapse={boards:document.querySelectorAll(".item-sider-collapse-board"),setData:function(){for(var i=this,e=[{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/b656495821144d92bd932d91eedcf659.png?width=80&height=80",text:"Redmi X65 2022款"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/b656495821144d92bd932d91eedcf659.png?width=80&height=80",text:"Redmi X65 2022款"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/943995e8d1b1a884e123aec25cc1f8b8.png?width=80&height=80",text:"小米拍拍4K高清投屏器"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/b656495821144d92bd932d91eedcf659.png?width=80&height=80",text:"Redmi X55 2022款"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/50194366cfebbc7c82489d0094c1f944.png?width=80&height=80",text:"小米电视6 55”  OLED"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/50194366cfebbc7c82489d0094c1f944.png?width=80&height=80",text:"小米电视6 65”  OLED"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/b91c9ef670fa1c12eddf23b209f9ff33.png?width=80&height=80",text:"小米电视 大师  77”  OLED"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/aa3954f817a23443c0b6b523ebbd09f6.png?width=80&height=80",text:"小米电视6 至尊版 55英寸"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/aa3954f817a23443c0b6b523ebbd09f6.png?width=80&height=80",text:"小米电视6 至尊版 65英寸"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/aa3954f817a23443c0b6b523ebbd09f6.png?width=80&height=80",text:"小米电视6 至尊版 75英寸"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/1c0d83dd59a3dd91372d867864b35554.png?width=80&height=80",text:"小米电视 ES43 2022款"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/1c0d83dd59a3dd91372d867864b35554.png?width=80&height=80",text:"小米电视 ES55 2022款"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/1c0d83dd59a3dd91372d867864b35554.png?width=80&height=80",text:"小米电视 ES65 2022款"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/1c0d83dd59a3dd91372d867864b35554.png?width=80&height=80",text:"小米电视 ES75 2022款"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/d219d8b9c4a74eda4ae6c0222d194cd2.png?width=80&height=80",text:"金属全面屏电视"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/7da49e7ada2229c963c9c7353a58d49b.png?width=80&height=80",text:"大师电视 65英寸 OLED"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/1df560d16cc983b0f34d24fc484bd697.png?width=80&height=80",text:"小米电视4A 60英寸"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/070b329c18c1ab167df2a42564a67813.png?width=80&height=80",text:"Redmi 智能电视 X55"},{src:"https://cdn.cnbj0.fds.api.mi-img.com/b2c-mimall-media/8aeae36f5d088f22c84b8953bd0d08b4.jpg?width=80&height=80",text:"小米全面屏电视"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/ce75f4a3fef148b6729061a18f994aa7.png?width=80&height=80",text:"米家激光投影仪"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/9d649ec3d7d14da7090e396d56b7cc92.jpg?width=80&height=80",text:'Redmi 智能电视 MAX 98"'},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/3fbb9ad7c67775fcc1a10219bdbd7257.png?width=80&height=80",text:"小米电视5 75英寸"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/6797917392e912577135d9eb8ad92f1f.png?width=80&height=80",text:"小米电视4A 70英寸"},{src:"https://cdn.cnbj1.fds.api.mi-img.com/mi-mall/8cb5791161d8b25897f60385f0ec7ab2.png?width=80&height=80",text:"小米电视4S 75英寸"}],t=function(){var t="";e.forEach((function(i){var e='\n                <div class="sg-goods-list-item">\n                    <section class="item-img">\n                        <img src="'.concat(i.src,'"\n                            alt="">\n                    </section>\n                    <section class="item-title">').concat(i.text,"</section>\n                </div>");t+=e})),i.boards[c].innerHTML=t},c=0;c<this.boards.length;c++)t()},init:function(){this.setData()}};sideCollapse.init();var timeLimit={timeWrap:document.querySelector(".time-wrap"),format:function(i){return i<=9?"0"+i:i},divideSegment:function(i){return{tens:(i=String(i))[0],ones:i[1]}},setData:function(i){var e='\n            <section class="hour">\n                <div class="tens-place">'.concat(i.hour.tens,'</div>\n                <div class="ones-place">').concat(i.hour.ones,'</div>\n            </section>\n            <section class="time-divide">:</section>\n            <section class="minute">\n                <div class="tens-place">').concat(i.minute.tens,'</div>\n                <div class="ones-place">').concat(i.minute.ones,'</div>\n            </section>\n            <section class="time-divide">:</section>\n            <section class="second">\n                <div class="tens-place">').concat(i.second.tens,'</div>\n                <div class="ones-place">').concat(i.second.ones,"</div>\n            </section>\n        ");this.timeWrap.innerHTML=e},initTimer:function(){var i=this,e=(new Date).getDate(),t=new Date;t.setDate(e+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),setInterval((function(){var e=new Date,c=new Date(t-e),n=i.divideSegment(i.format(c.getHours())),r=i.divideSegment(i.format(c.getMinutes())),s=i.divideSegment(i.format(c.getSeconds()));i.setData({hour:n,minute:r,second:s})}),1e3)},init:function(){this.initTimer()}};timeLimit.init();var spacialCategory={tabs:document.querySelectorAll(".appliances-tab"),cateWrap:document.querySelector(".appliances-wrap").querySelector(".row"),getData:function(){return{hot:[{imgSrc:"//i1.mifile.cn/a1/pms_1550642182.7527088!220x220.jpg",title:"小米9 6GB+128GB",desc:"骁龙855，索尼4800万超广角微距三摄",num:"2599",price:"2999",originPrice:"2599"},{imgSrc:"//i1.mifile.cn/a1/pms_1540429613.4617799!220x220.jpg",title:"小米MIX 3 6GB+128GB",desc:"磁动力滑盖全面屏 / 四曲面陶瓷机身",num:"2299",price:"3299",originPrice:"2299"},{imgSrc:"//i1.mifile.cn/a1/pms_1552647865.67536173!220x220.jpg",title:"Redmi Note 7 Pro",desc:"6GB+128GB大存储，索尼4800万拍照",num:"1599",price:"1599",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1554694214.08887531!220x220.png",title:"小米Play 4GB+64GB",desc:"八核高性能处理器，后置1200万 AI 双摄",num:"749",price:"999",originPrice:"749"},{imgSrc:"//i1.mifile.cn/a1/pms_1538019009.57772743!220x220.png",title:"小米8 屏幕指纹版 6GB+128GB",desc:"全球首款压感屏幕指纹 骁龙845处理器",num:"1799",price:"2999",originPrice:"1799"},{imgSrc:"//i1.mifile.cn/a1/pms_1537324004.08544830!220x220.jpg",title:"小米8青春版6GB+64GB",desc:"潮流镜面渐变色，2400万自拍旗舰",num:"1499",price:"1699",originPrice:"1499"},{imgSrc:"//i1.mifile.cn/a1/pms_1547020972.223707!220x220.jpg",title:"Redmi Note 7 6GB+64G",desc:"4800万拍照，4000mAh大电量",num:"1099",price:"1099",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1558857780.47412427!220x220.jpg",title:"Redmi K20 Pro 6GB+128GB",desc:"骁龙855旗舰处理器，索尼4800万超广角三摄",num:"2299",price:"2599",originPrice:"2299"}],tv:[{imgSrc:"//i1.mifile.cn/a1/pms_1500287084.72131750!220x220.jpg",title:"小米电视4A 32英寸",desc:"64位四核处理器 / 1GB+4GB大内存",num:"699",price:"799",originPrice:"699"},{imgSrc:"//i1.mifile.cn/a1/pms_1535103027.24861415!220x220.jpg",title:"小米电视4A 65英寸",desc:"",num:"2599",price:"2999",originPrice:"2599"},{imgSrc:"//i1.mifile.cn/a4/xmad_15350951136177_QUuVm.png",title:'15.6"笔记本 i5 4G MX110',desc:"",num:"4199",price:"4199",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1524636075.71677607!220x220.jpg",title:'13.3"小米笔记本Air 四核i7 8G 256G MX150 银色',desc:"",num:"5999",price:"5999",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1560161251.21862332!220x220.jpg",title:"米家互联网洗烘一体机 Pro 10kg",desc:"",num:"2999",price:"2999",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1545286017.38639954!220x220.jpg",title:"米家互联网空调（一级能效）",desc:"",num:"2399",price:"2699",originPrice:"2399"},{imgSrc:"//i1.mifile.cn/a1/pms_1560232653.29021311!220x220.jpg",title:"烟灶套装（天然气）",desc:"吸油,燃气灶,油烟机,抽烟机,灶具,套装",num:"2298",price:"2298",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1559644554.04136931!220x220.jpg",title:"米家电烤箱",num:"299",price:"299",originPrice:null}],computer:[{imgSrc:"//i1.mifile.cn/a1/pms_1533266333.04566853!220x220.jpg",title:"15.6 Pro i5 8G 1050MAX-Q 256G",desc:"",num:"5999",price:"6299",originPrice:"5999"},{imgSrc:"//i1.mifile.cn/a1/pms_1525231579.56571137!220x220.jpg",title:'13.3"小米笔记本Air 四核i7 8G 256G MX150 深空灰',desc:"",num:"5999",price:"5999",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1533196142.85059414!220x220.png",title:"小米游戏本15.6”8代i7 16G 1T+256G 1060 6G",desc:"",num:"8999",price:"8999",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1524636075.71677607!220x220.jpg",title:'13.3"小米笔记本Air 四核i7 8G 256G MX150 银色',desc:"",num:"5999",price:"5999",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1490595812.95661863!220x220.png",title:"小米无线鼠标",desc:"耐脏亲肤涂层，人体工学设计",num:"59",price:"69",originPrice:"59"},{imgSrc:"//i1.mifile.cn/a1/pms_1478248566.62624407!220x220.jpg",title:"小米便携鼠标",desc:"轻薄便携，铝合金外壳 +ABS 材质",num:"99",price:"99",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1490702347.3628109!220x220.png",title:"悦米机械键盘",desc:"铝合金机身，TTC红轴，87 键",num:"149",price:"289",originPrice:"149"},{imgSrc:"//i1.mifile.cn/a1/pms_1469523170.25518983!220x220.jpg",title:"多功能转接器",num:"149",price:"149",originPrice:null}],home:[{imgSrc:"//i1.mifile.cn/a1/pms_1465366178.11466342!220x220.jpg",title:"米家恒温电水壶",desc:"水温智能控制，304 不锈钢内胆",num:"199",price:"199",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1506417289.23728408!220x220.jpg",title:"小米随身手电筒",desc:"11 挡调光，随心而亮",num:"79",price:"79",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1472609961.95298675!220x220.jpg",title:"米家扫地机器人",desc:"智能路径规划，扫得干净扫得快",num:"1499",price:"1699",originPrice:"1499"},{imgSrc:"//i1.mifile.cn/a1/pms_1510020567.64467830!220x220.jpg",title:"小米米家空气净化器 2S",desc:"OLED显示屏 / 激光颗粒物传感器",num:"699",price:"899",originPrice:"699"},{imgSrc:"//i1.mifile.cn/a1/T1OVC_ByY_1RXrhCrK!220x220.jpg",title:"米家压力IH电饭煲",desc:"智能烹饪，灰铸铁粉体涂层内胆",num:"999",price:"999",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1496647119.81414190!220x220.jpg",title:"飞利浦智睿球泡灯",desc:"自由调节亮度，Wi-Fi随时操控",num:"49",price:"49",originPrice:null},{imgSrc:"//i1.mifile.cn/a1/pms_1495520422.36514041!220x220.jpg",title:"米家 LED 智能台灯",desc:"无可视频闪，四种场景优化调光",num:"149",price:"169",originPrice:"149"},{imgSrc:"//i1.mifile.cn/a1/pms_1490756071.3088664!220x220.png",title:"Yeelight LED 吸顶灯",num:"319",price:"319",originPrice:null}]}},setData:function(i){var e=this,t=this.getData()[i||"hot"];this.cateWrap.innerHTML="",t.forEach((function(i){var t='\n            <section class="row-item">\n                <section class="new-tag">新品</section>\n                <section class="item-img">\n                    <img src="'.concat(i.imgSrc,'" alt="">\n                </section>\n                <div class="item-info">\n                    <span class="name">').concat(i.title,'</span>\n                    <span class="desc">').concat(i.desc,'</span>\n                    <span class="price">\n                        <span class="num">').concat(i.num,'</span>\n                        <del></del><span class="origin-num">').concat(i.originPrice+"元","</span><del>\n                    </span>\n                </div>\n            </section>\n            ");e.cateWrap.innerHTML+=t}))},init:function(){var i=this;this.setData();for(var e=["hot","tv","computer","home"],t=0;t<this.tabs.length;t++)this.tabs[t].index=t,this.tabs[t].key=e[t],this.tabs[t].addEventListener("mouseover",(function(e){for(var t=0;t<i.tabs.length;t++)i.tabs[t].className="sg-tab-item appliances-tab";i.tabs[this.index].className="sg-tab-item appliances-tab active",i.setData(this.key)}));this.tabs[0].className="sg-tab-item appliances-tab active"}};spacialCategory.init();